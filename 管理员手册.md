# 客服聊天系统管理员手册

## 管理员账户

### 账户创建
系统初始化时会自动创建一个默认管理员账户：
- 用户名：`admin`
- 密码：`admin123`（首次登录后必须修改）

出于安全考虑，建议立即更改默认密码并创建个人管理员账户。

### 权限级别
系统具有两种主要权限级别：
1. **管理员(admin)**：拥有所有系统功能的完整访问权限
2. **客服(agent)**：仅能访问日常客服操作所需的功能

## 管理控制台

### 访问管理控制台
1. 登录系统
2. 点击左侧导航栏中的"管理控制台"
3. 输入管理员密码再次验证身份

### 主要功能区域
管理控制台分为以下几个主要功能区域：
- **仪表盘**：系统概览和关键指标
- **用户管理**：管理客服账户和权限
- **密钥管理**：管理和轮换系统密钥
- **系统设置**：配置全局系统参数
- **日志查看**：查看系统操作日志

## 用户管理

### 创建新客服账户
1. 导航至"用户管理"页面
2. 点击"添加客服"按钮
3. 填写必要信息：
   - 姓名
   - 电子邮件（用作登录名）
   - 初始密码
   - 权限级别
4. 点击"创建"按钮确认

### 编辑现有账户
1. 在用户列表中找到目标账户
2. 点击"编辑"按钮
3. 修改相关信息
4. 点击"保存"确认更改

### 停用账户
1. 在用户列表中找到目标账户
2. 点击"停用"按钮
3. 在确认对话框中点击"确认"

> **注意**：停用账户不会删除账户数据，仅阻止用户登录。账户可以随时重新激活。

## 密钥管理

### 密钥概述
系统使用nanoid密钥进行客服认证和会话验证。根据预设，系统维护30个有效密钥，每日自动轮换过期密钥。

### 查看当前密钥
1. 导航至"密钥管理"页面
2. 当前活跃密钥会显示在列表顶部，标记为"活跃"状态

### 创建新密钥
1. 点击"生成新密钥"按钮
2. 输入以下信息：
   - 密钥描述（可选）
   - 有效期（默认为30天）
3. 点击"生成"按钮确认

### 轮换密钥
系统会自动轮换密钥，但管理员也可以手动触发：
1. 点击"轮换密钥"按钮
2. 确认操作
3. 系统会废止最旧的密钥并创建一个新密钥

### 撤销密钥
1. 在密钥列表中找到目标密钥
2. 点击"撤销"按钮
3. 在确认对话框中点击"确认"

> **警告**：撤销密钥会导致使用该密钥的所有客服立即登出。请谨慎操作，最好在非工作时间执行。

## 系统设置

### 客服限制管理
1. 导航至"系统设置"页面
2. 在"客服配置"部分：
   - 设置最大并发客服数量
   - 配置每位客服最大接待客户数
   - 设置会话自动结束时间

### 聊天功能设置
配置聊天相关功能：
- 允许/禁用文件上传
- 设置最大文件大小
- 配置允许的文件类型
- 启用/禁用语音消息

### 通知设置
配置系统通知规则：
- 新消息通知
- 客户等待提醒
- 系统警报阈值

## 监控与报告

### 实时监控
实时监控面板显示：
- 当前在线客服数量
- 活跃会话数
- 等待中的客户数
- 系统资源使用情况

### 生成报告
1. 导航至"报告"页面
2. 选择报告类型：
   - 客服绩效报告
   - 会话统计报告
   - 客户满意度报告
3. 设置时间范围
4. 点击"生成报告"

### 导出数据
1. 在报告预览页面
2. 点击"导出"按钮
3. 选择导出格式（CSV、Excel、PDF）
4. 选择保存位置

## 系统维护操作

### 清理历史数据
1. 导航至"系统维护"页面
2. 在"数据管理"部分点击"清理历史数据"
3. 设置清理条件：
   - 清理时间范围
   - 数据类型（聊天记录、日志等）
4. 点击"开始清理"

### 备份与恢复
1. 在"系统维护"页面
2. 选择"备份与恢复"选项
3. 执行操作：
   - 创建手动备份
   - 配置自动备份计划
   - 从备份恢复数据

### 更新系统
当有新版本可用时：
1. 在"系统维护"页面点击"检查更新"
2. 如有更新，点击"安装更新"
3. 按照向导完成更新过程

## 安全最佳实践

### 密码政策
- 强制使用强密码（至少8个字符，包含大小写字母、数字和特殊字符）
- 定期更改密码（推荐每90天）
- 禁止重复使用最近5个密码

### 密钥轮换计划
- 按预设每30天自动轮换密钥
- 发生安全事件后立即手动轮换所有密钥
- 定期审核密钥使用情况

### 权限管理
- 遵循最小权限原则
- 定期审核用户权限
- 及时移除离职人员的访问权限

## 故障排除

### 常见管理问题

#### 客服无法登录
1. 检查账户状态是否为"活跃"
2. 验证密钥是否有效
3. 检查用户名和密码是否正确
4. 确认该用户未超过允许的设备登录数量

#### 密钥管理问题
1. 如果密钥轮换失败：
   - 检查数据库连接
   - 验证管理员权限
   - 查看系统日志获取详细错误信息
2. 手动创建新密钥并分配给受影响的用户

#### 报告生成失败
1. 检查所选时间范围内是否有数据
2. 验证数据库连接状态
3. 确认用户具有生成报告的权限
4. 尝试减小报告的时间范围

### 联系技术支持
如需进一步帮助，请联系技术支持：
- 电子邮件：admin-support@example.com
- 工作时间：周一至周五 9:00-18:00 